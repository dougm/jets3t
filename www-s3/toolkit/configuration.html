<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type"
        content="text/html; charset=utf-8" />
  <meta name="robots"
        content="all" />
  <meta name="generator"
        content="RapidWeaver" />
  <meta name="generatorversion"
        content="3.5.1 (Build 264)" />

  <title>JetS3t - Advanced Configuration</title>
  <link rel="stylesheet"
        type="text/css"
        media="screen"
        href="../rw_common/themes/ideal/styles.css" />
  <link rel="stylesheet"
        type="text/css"
        media="print"
        href="../rw_common/themes/ideal/print.css" />
  <link rel="stylesheet"
        type="text/css"
        media="handheld"
        href="../rw_common/themes/ideal/handheld.css" />
  <link rel="stylesheet"
        type="text/css"
        media="screen"
        href=
        "../rw_common/themes/ideal/css/width/width_variable.css" />
  <link rel="stylesheet"
        type="text/css"
        media="screen"
        href=
        "../rw_common/themes/ideal/css/sidebar/sidebar_right.css" />
        
<style type="text/css"
       media="all">
/*<![CDATA[*/
pre {
        font-face: arial;
        font-size: 1.2em;       
}

tt {
        font-face: arial;
        font-size: 1.2em;       
}
/*]]>*/
</style>
<script type="text/javascript"
      src="../rw_common/themes/ideal/javascript.js">
</script>
</head>

<body>
  <div id="container">
    <!-- Start container -->

    <div id="pageHeader">
      <!-- Start page header -->

      <h1>JetS3t</h1>

      <h2>An open source Java toolkit for Amazon S3</h2>
    </div><!-- End page header -->

    <div id="sidebarContainer">
      <!-- Start Sidebar wrapper -->

      <div id="navcontainer">
        <!-- Start Navigation -->

        <ul>
          <li><a href="../index.html"
             rel="self">Home</a></li>

          <li>
            <a href="../toolkit/toolkit.html"
                rel="self"
                class="currentAncestor">Toolkit</a>

            <ul>
              <li><a href="../toolkit/guide.html"
                 rel="self">Programmer Guide</a></li>

              <li><a href="configuration.html"
                 rel="self"
                 id="current"
                 name="current">Configuration</a></li>

              <li><a href="../api/index.html"
                 rel="self">API Documentation</a></li>
            </ul>
          </li>

          <li><a href="../applications/applications.html"
             rel="self">Applications</a></li>

          <li><a href="../downloads.html"
             rel="self">Downloads</a></li>

          <li><a href="../support.html"
             rel="self">Help &amp; Support</a></li>
        </ul>
      </div><!-- End navigation -->

      <div class="sideHeader"></div><!-- Sidebar header -->

      <div id="sidebar">
        <!-- Start sidebar content -->

        <br />
        <!-- sidebar content you enter in the page inspector -->
         <!-- sidebar content such as the blog archive links -->
      </div><!-- End sidebar content -->
    </div><!-- End sidebar wrapper -->

    <div id="contentContainer">
      <!-- Start main content wrapper -->

      <div id="content">
        <!-- Start content -->

        <div id="breadcrumbcontainer">
          <!-- Start the breadcrumb wrapper -->

          <ul>
            <li><a href=
            "../index.html">Home</a>&nbsp;&gt;&nbsp;</li>

            <li><a href=
            "../toolkit/toolkit.html">Toolkit</a>&nbsp;&gt;&nbsp;</li>

            <li><a href=
            "configuration.html">Configuration</a>&nbsp;&gt;&nbsp;</li>
          </ul>
        </div><!-- End breadcrumb -->

        <h1>Advanced Configuration</h1>

        <p>JetS3t includes a number of configuration mechanisms
        that allow users with specialised requirements to control
        how the toolkit and applications will operate:</p>

        <ul>
          <li><a href="#jets3t">JetS3t Properties</a>: Advanced
          communication properties</li>

          <li><a href="#mimetypes">Mime Types</a>: Mime type
          recognition based on file extensions</li>

          <li><a href="#ignore">Ignore files</a>: When uploading
          files, specific file/directory paths can be ignored</li>
        </ul>

        <h2><a name="jets3t"
           id="jets3t">JetS3t Properties</a></h2>

        <p>The main configuration properties for the JetS3t toolkit
        and applications are stored in a file called
        <tt>jets3t.properties</tt>. This file specifies advanced
        communication properties. A properties file with default
        settings is included in the <b>configs</b> directory JetS3t
        release.</p>

        <p>The <tt>jets3t.properties</tt> file is a standard text
        document that lists properties in the standard Java
        Properties file format, containing name value pairs and
        comments:</p>
        <pre>
   # Comments start with a hash character.
   # Empty lines are ignored...

   # Properties are set as name=value, for example:
   propertyName=propertyValue
   my.favourite.colour=blue
</pre>

        <h3>Guide to jets3t.properties</h3>

        <table bgcolor="#FAFAFA"
               summary="Guide to jets3t.properties">
          <tr>
            <th align="left"
                colspan="2">Common S3Service communication
                properties</th>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>s3service.end-point-host</tt></b></td>

            <td valign="top">The DNS name or IP address of the S3
            host end-point
            <br />
            Default: <tt>s3.amazonaws.com</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>s3service.https-only</tt></b></td>

            <td valign="top">If true, all communication with S3
            will be via encrypted HTTPS connections, otherwise
            communications will be sent unencrypted via HTTP
            <br />
            Default: <tt>true</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>s3service.max-thread-count</tt></b></td>

            <td valign="top">The maximum number of concurrent
            communication threads that will be started by the
            multi-threaded service.
            <br />
            <b>Note</b>: This value should not exceed the maximum
            number of connections available, such as is set by the
            property <tt>httpclient.max-connections</tt>
            <br />
            Default: <tt>4</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>s3service.stream-retry-buffer-size</tt></b></td>

            <td valign="top">How many bytes to buffer for use when
            retrying failed transmissions. This value must be small
            enough that applications using multiple upload threads
            will not exceed their available memory by buffering
            data
            <br />
            <b>Note</b>: Applies only to InputStream-based uploads,
            not uploads based on files
            <br />
            Default: <tt>131072</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>s3service.internal-error-retry-max</tt></b></td>

            <td valign="top">The maximum number of times each
            connection that fails with S3 InternalServer errors
            will be retried. To disable retries of InternalError
            failures set this to 0.
            <br />
            <b>Note</b>: After each failure the service waits
            before retrying. The time to wait is calculated with
            the formula:
            <br />
            <tt>50 * (<i>internalErrorCount</i> ^ 2)</tt>
            <br />
            Default: <tt>5</tt></td>
          </tr>

          <tr>
            <th align="left"
                colspan="2">REST/HTTP HttpClient Implementation
                properties</th>
          </tr>

          <tr>
            <td colspan="2">JetS3t's REST/HTTP implementation is
            based on HttpClient but uses only a small subset of the
            many <a href=
            "http://jakarta.apache.org/commons/httpclient/preference-api.html">
            options available for HttpClient</a>.</td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>httpclient.connection-timeout-ms</tt></b></td>

            <td valign="top">How many milliseconds to wait before a
            connection times out. 0 means infinity.
            <br />
            Default: <tt>60000</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>httpclient.socket-timeout-ms</tt></b></td>

            <td valign="top">How many milliseconds to wait before a
            socket connection times out. 0 means infinity.
            <br />
            Default: <tt>60000</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>httpclient.max-connections</tt></b></td>

            <td valign="top">The maximum number of simultaneous
            connections to allow
            <br />
            <b>Note</b>: Be careful increasing this from the
            default value, as communications errors can result if
            it is set too high for your system/connection/usage
            scenarios
            <br />
            Default: <tt>4</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>httpclient.stale-checking-enabled</tt></b></td>

            <td valign="top">"Determines whether stale connection
            check is to be used. Disabling stale connection check
            may result in slight performance improvement at the
            risk of getting an I/O error when executing a request
            over a connection that has been closed at the server
            side."
            <br />
            Default: <tt>true</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>httpclient.retry-max</tt></b></td>

            <td valign="top">How many times to retry connections
            when they fail with IO errors. Set this to 0 to disable
            retries.
            <br />
            Default: <tt>5</tt></td>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>httpclient.useragent</tt></b></td>

            <td valign="top">The user agent string sent with HTTP
            requests.
            <br />
            Default: Application-specific</td>
          </tr>

          <tr>
            <th align="left"
                colspan="2">Encryption properties</th>
          </tr>

          <tr>
            <td valign="top"><b><tt>crypto.algorithm</tt></b></td>

            <td valign="top">Name of the PBE cryptographic
            algorithm to used by JetS3t applications that encrypt
            items uploaded to S3.
            <br />
            <b>Note</b>: The default algorithm isn't a strong one,
            and should be improved if security is important
            <br />
            <b>Note 2</b>: The algorithms available will depend on
            the cryptography provider libraries installed on a
            system, and the Java policy file settings. This is a
            complicated topic that is not specific to JetS3t,
            please refer to documentation elsewhere.
            <br />
            Default: <tt>PBEWithMD5AndDES</tt></td>
          </tr>

          <tr>
            <th align="left"
                colspan="2">GUI properties</th>
          </tr>

          <tr>
            <td valign="top">
            <b><tt>gui.verboseErrorDialog</tt></b></td>

            <td valign="top">If true, JetS3t applications that
            display error dialogs will include more information
            about errors.
            <br />
            Default: <tt>true</tt></td>
          </tr>
        </table>

        <h2><a name="mimetypes"
           id="mimetypes">Mimetypes</a></h2>

        <p>JetS3t applications, and any toolkit-based application
        that use the <a href=
        "../api/org/jets3t/service/utils/Mimetypes.html">Mimetypes</a>
        utility class, can recognise the mime/content type of a
        file based on the file's extension. For example,
        <tt>.html</tt> files are recognised as <tt>text/html</tt>.
        A properties file with default settings is included in the
        <b>configs</b> directory JetS3t release.</p>

        <p>Mimetype recognition is configured in the
        <tt>mime.types</tt> configuration file, which is exactly
        the same format as is used by the Apache Web Server (in
        fact, we pinched the whole mimetypes file from Apache).</p>

        <p>The <tt>mime.types</tt> file is a standard text document
        that lists the recognised mime types, each on a new line.
        The mimetype is listed, followed by one or more tabs, then
        one or more space-separated file extensions that map to the
        mimetype. The best way to understand the file format is to
        look at some examples:</p>
        <pre>
text/html               html htm
text/plain              asc txt
application/pdf         pdf
audio/mpeg              mpga mp2 mp3
</pre>

        <h2><a name="ignore"
           id="ignore">Ignore Files on Upload</a></h2>

        <p>JetS3t applications, and any toolkit-based application
        that uses the <a href=
        "../api/org/jets3t/service/utils/FileComparer.html">FileComparer</a>
        utility class, will look for special ignore files named
        <tt>.jets3t-ignore</tt> when generating listings of local
        files to upload. These ignore files are plain text
        documents that contain file or directory names in the
        directory that should not be uploaded. Any file or
        directory that matches a name or a pattern in this file is
        completely ignored, as if it doesn't exist.
        <br />
        <sup>Users familiar with CVS will be familiar with this
        concept, as it copies the idea of .cvsignore
        files.</sup></p>

        <p>Ignore files are mainly useful when managing the backup
        of large file sets. For example, say you want to backup a
        folder called Documents but you don't want to backup a
        sub-folder in Documents called Private, nor do you want to
        backup all the .tmp files your word processor creates when
        you open a document. You could achieve this by creating a
        <tt>.jets3t-ignore</tt> file in the Documents folder with
        the content:</p>
        <pre>
Private
*.tmp
</pre>

        <p>The <tt>.jetset-ignore</tt> file format allows basic
        wild-card substitution:</p>

        <ul>
          <li>Asterix (<tt>*</tt>): matches zero or more
          characters</li>

          <li>Question mark (<tt>?</tt>): matches exactly one
          character</li>
        </ul>

        <p>Note that the contents of the ignore file only apply to
        the immediate directory containing the
        <tt>.jets3t-ignore</tt> file. For example, the wildcard
        string <tt>*.tmp</tt> will only ignore .tmp files in the
        current directory, any temporary files in subdirectories
        will still be included. Similarly, folder paths cannot be
        used - the following statements <b>will not work</b>:</p>
        <pre>
Private/*.tmp
Subfolder/PrivateFolder
</pre>
      </div><!-- End content -->
    </div><!-- End main content wrapper -->

    <div class="clearer"></div>

    <div id="footer">
      <!-- Start Footer -->

      <p>© 2006 James Murty</p>
    </div><!-- End Footer -->
  </div><!-- End container -->
</body>
</html>
